<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishnaverse</title>
	<link rel="stylesheet" href="style.css">
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Google Fonts for better typography -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<!-- Header -->
    <header>
        <div class="header-content">
            <a onclick="showHome()" class="logo-area">
                <img src="thumbnail/krishnaverse.png" alt="krishnaverse Logo" class="logo-img">
                <span class="site-title">Krishnaverse</span>
            </a>
            <button class="menu-btn" onclick="toggleMenu()">
                MENU &equiv;
            </button>
        </div>
    </header>

    <!-- Navigation Overlay -->
    <div class="nav-overlay" id="navOverlay">
        <button class="close-btn" onclick="toggleMenu()">&times;</button>
        <ul class="nav-links">
            <li style="transition-delay: 0.1s"><a onclick="showHome()">Home</a></li>
            <li style="transition-delay: 0.15s"><a onclick="showPage('tartam')">Shree Tartam Sagar</a></li>
            <li style="transition-delay: 0.2s"><a onclick="showPage('vitak')">Shree Vitak Sahib</a></li>
            <li style="transition-delay: 0.25s"><a onclick="showPage('viratpat')">Shree Viratpat Darshan</a></li>
            <li style="transition-delay: 0.3s"><a onclick="showPage('seva')">Seva Puja</a></li>
            <li style="transition-delay: 0.35s"><a onclick="showPage('nitya')">Nitya Paath</a></li>
            <li style="transition-delay: 0.4s"><a onclick="showPage('pushpanjali')">Prathana Pushpanjali</a></li>
            <li style="transition-delay: 0.45s"><a onclick="shareSite()">Share</a></li>
            <li style="transition-delay: 0.5s"><a onclick="showPage('contact')">Contact Us</a></li>
        </ul>
    </div>

    <!-- 1. BACKGROUND MAP (D3.js) -->
    <div id="chart-container"></div>

    <!-- 2. CONTENT PAGES (Hidden by default) -->

    <!-- Shree Tartam Sagar -->
    <div id="tartam" class="page-container">
        <div class="glass-card">
            <h1>Shree Tartam Sagar</h1>			
			<a href="https://drive.google.com/file/d/1lTOvktrlNJdjFNmY6WjPM6VXrO24NnVK/view?usp=sharing" target="_blank">
             <img src="thumbnail/shree tartam sagar book.png" alt="shree tartam sagar book">
			 </a>
			 <br>
             <a href="https://drive.google.com/file/d/1lTOvktrlNJdjFNmY6WjPM6VXrO24NnVK/view?usp=sharing" target="_blank">
              <button class="btn-transparent">Open Book</button>
              </a>			
			<p>The <strong>Shree Tartam Sagar</strong> is the central scripture of the Nijanand Sampraday. It contains the divine speech (Vani) of sadguru shree Prannathji.</p>
            <p>It provides the knowledge of the Soul (Atma) and the Supreme Lord (Paramatma).</p>
            <p>This holy book is considered the living form of the Lord in the absence of a physical Guru.</p>
			
        </div>
    </div>

    <!-- Shree Vitak Sahib -->
    <div id="vitak" class="page-container">
        <div class="glass-card">
            <h1>Shree Vitak Sahib</h1>
			<a href="https://drive.google.com/file/d/1fyTtthUQIylUHAFgsUI7gy3MHH5FJSUR/view?usp=sharing" target="_blank">
             <img src="thumbnail/shree vitak sahib book.png" alt="shreee vitak sahib book">
			 </a>
			 <br>
             <a href="https://drive.google.com/file/d/1fyTtthUQIylUHAFgsUI7gy3MHH5FJSUR/view?usp=sharing" target="_blank">
              <button class="btn-transparent">Open Book</button>
              </a>
            <p><strong>Shree Vitak Sahib</strong> records the history of the sect, detailing the lives and journeys of Sadguru Devchandraji and Mahamati Prannathji.</p>
            <p>It describes the awakening of the soul, the struggles faced by the Sundarsath (devotees), and the establishment of the faith across world.</p>
            <p><em>"Without knowing the history (vitak), one cannot understand the depth of the spiritual journey."</em></p>
        </div>
    </div>

    <!-- Shree Viratpat Darshan -->
    <div id="viratpat" class="page-container">
        <div class="glass-card">
            <h1>Shree Viratpat Darshan</h1>
            <img src="thumbnail/Aksharatit purnabramha.jpg" alt="Aksharatit purnabramha">
			<img src="thumbnail/akshar bramha.jpg" alt="akshar bramha">
			<img src="thumbnail/akshar bramha chatuspad.jpg" alt="akshar bramha chatuspad">
			<img src="thumbnail/keval bramha.jpg" alt="keval bramha">
			<img src="thumbnail/ksher purush.jpg" alt="ksher purush">			
            <p>The <strong>Viratpat</strong> is the cosmological map of the universe as described in the Tartam Vani.</p>
            <p>It explains the 14 Lokas of the Kshar Purush (Perishable Universe), the Akshar Brahman (Imperishable), and the ultimate abode, the Paramdham (Eternity).</p>
        </div>
    </div>

    <!-- Seva Puja -->
    <div id="seva" class="page-container">
        <div class="glass-card">
            <h1>Seva Puja</h1>
			<a href="https://drive.google.com/file/d/1i82G250VZ71dEZBWv-Ccstnu79j_EQKD/view?usp=sharing" target="_blank">
             <img src="thumbnail/seva puja book.png" alt="seva puja book">
			 </a>
			 <br>
             <a href="https://drive.google.com/file/d/1i82G250VZ71dEZBWv-Ccstnu79j_EQKD/view?usp=sharing" target="_blank">
              <button class="btn-transparent">Open Book</button>
              </a>
            <p>The daily routine of worship (Ashtayam Seva) reflects pure devotion and love for Shri Raj Shyamaji.</p>            
        </div>
    </div>

    <!-- Nitya Paath -->
    <div id="nitya" class="page-container">
        <div class="glass-card">
            <h1>Nitya Paath</h1>
			<a href="https://drive.google.com/file/d/1AxSK5n-WJ0erVBBpO1sC415nMLoLtgtD/view?usp=sharing" target="_blank">
             <img src="thumbnail/nitya paath book.png" alt="nitya paath book">
			 </a>
			 <br>
             <a href="https://drive.google.com/file/d/1AxSK5n-WJ0erVBBpO1sC415nMLoLtgtD/view?usp=sharing" target="_blank">
              <button class="btn-transparent">Open Book</button>
              </a>
            <p>Daily recitation for spiritual strength and connection.</p>
            <p>recite verses daily to keep the mind focused on the Lotus Feet of the Lord.</p>
        </div>
    </div>

    <!-- Prathana Pushpanjali -->
    <div id="pushpanjali" class="page-container">
        <div class="glass-card">
            <h1>Prathana Pushpanjali</h1>
			<a href="https://drive.google.com/file/d/1NmgCkyhpR7jWHqOeGnIn6yYnyuo2vjxi/view?usp=sharing" target="_blank">
             <img src="thumbnail/prathanapushpanjali book.png" alt="prathanapushpanjali book">
			 </a>
			 <br>
             <a href="https://drive.google.com/file/d/1NmgCkyhpR7jWHqOeGnIn6yYnyuo2vjxi/view?usp=sharing" target="_blank">
              <button class="btn-transparent">Open Book</button>
              </a>
            <p>Offering the flowers of our feelings to the Lord.</p>
            <p><em>"Sundarsath Ji..."</em></p>
            <p>Prayer is not just asking, but surrendering one's ego (Haume) to the will of Shri Krishna.</p>
        </div>
    </div>

    <!-- Contact Us -->
    <div id="contact" class="page-container">
        <div class="glass-card">
            <h1>Contact Us</h1>
            <p>üôè Pranam Connect with us for queries.</p>
            <div style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px;">
                <p>üìß <strong>Email:</strong> bramhaatma@gmail.com</p>
            </div>
            <button class="btn-transparent" 
onclick="window.location.href='mailto:bramhaatma@gmail.com?subject=Hello&body=Pranam sundarsath ji'">
  Send Email
</button>
        </div>
    </div>

<script>
    // --- 1. FULL D3 DATA (Nested Hierarchy) ---
    const treeData = {
        name: "‡§Ö‡§ï‡•ç‡§∑‡§∞‡§æ‡§§‡•Ä‡§§ (‡§™‡•Å‡§∞‡•ç‡§£‡§¨‡•ç‡§∞‡§Æ‡•ç‡§π)",
        children: [
            {
                name: "‡§Ö‡§ï‡•ç‡§∑‡§∞‡§æ‡§§‡•Ä‡§§ ‡§ï‡§æ ‡§™‡§∞‡§Æ‡§ß‡§æ‡§Æ",
                children: [
                    {
                        name: "‡§¨‡§°‡§º‡•Ä ‡§∞‡§æ‡§Ç‡§ó",
                        children: [
                            {
                                name: "‡§∏‡§æ‡§ó‡§∞ ‡§Æ‡§Ç‡§°‡§≤",
                                children: [
                                    { name: "‡§¶‡§ß‡§ø ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§ò‡•É‡§§ ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§∞‡§∏ ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§Æ‡§ß‡•Å ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§∏‡§∞‡•ç‡§µ‡§∞‡§∏ ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§®‡•Ç‡§∞ ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§®‡•Ä‡§∞ ‡§∏‡§æ‡§ó‡§∞" },
                                    { name: "‡§ï‡•ç‡§∑‡•Ä‡§∞ ‡§∏‡§æ‡§ó‡§∞" }
                                ]
                            },
                            {
                                name: "‡§ö‡§æ‡§Å‡§¶‡§®‡•Ä ‡§ö‡•å‡§ï",
                                children: [
                                    { name: "‡§Ø‡§Æ‡•Å‡§®‡§æ‡§ú‡•Ä" },
                                    { name: "‡§Ö‡§Æ‡•É‡§§ ‡§µ‡§®" },
                                    { name: "‡§™‡§æ‡§ü ‡§ò‡§æ‡§ü" },
                                    { name: "‡§¨‡§ü ‡§µ‡§®" },
                                    { name: "‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä ‡§µ‡§®" },
                                    { name: "‡§ú‡§Æ‡•ç‡§¨‡•Å ‡§µ‡§®" },
                                    { name: "‡§Ö‡§®‡§æ‡§∞ ‡§µ‡§®" },
                                    { name: "‡§≤‡§ø‡§¨‡•ã‡§à ‡§µ‡§®" },
                                    { name: "‡§ï‡•á‡§≤ ‡§µ‡§®" },
                                    { name: "‡§∞‡§Ç‡§ó ‡§Æ‡§π‡§≤" },
                                    { name: "‡§¨‡§ü ‡§™‡•Ä‡§™‡§≤ ‡§ö‡•å‡§ï‡•Ä" },
                                    { name: "‡§ñ‡§°‡•ã‡§ï‡§≤‡•Ä ‡§≤‡§æ‡§≤ ‡§ö‡§¨‡•Ç‡§§‡§∞‡§æ" },
                                    { name: "‡§§‡§æ‡§°‡§º ‡§µ‡§®" },
                                    { name: "‡§¨‡§°‡•ã ‡§µ‡§®" },
                                    { name: "‡§Æ‡§ß‡•Å ‡§µ‡§®" },
                                    { name: "‡§Æ‡§π‡§æ ‡§µ‡§®" },
                                    { name: "‡§â‡§§‡§∞ ‡§ò‡§æ‡§ü‡•Ä ‡§µ‡§®" },
                                    { name: "‡§™‡•Å‡§ñ‡§∞‡§æ‡§ú‡§ó‡§ø‡§∞‡•Ä ‡§Æ‡§π‡§≤" },
                                    { name: "‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ ‡§ò‡§æ‡§ü‡•Ä ‡§µ‡§®" },
                                    { name: "‡§ö‡•ã‡§ó‡§æ‡§®" },
                                    { name: "‡§Ö‡§®‡•ç‡§® ‡§ß‡§®" },
                                    { name: "‡§¶‡•Ç‡§ß ‡§¶‡§≤‡•Ä‡§ö‡§æ" },
                                    { name: "‡§´‡•Å‡§≤ ‡§¨‡§æ‡§ó" },
                                    { name: "‡§®‡•Ç‡§∞ ‡§¨‡§æ‡§ó" },
                                    { name: "‡§π‡•ã‡§ú‡§ï‡•ã‡§∂‡§∞ ‡§§‡§æ‡§≤ (‡§∏‡•Å‡§ß‡§æ‡§∏‡§∞)" },
                                    { name: "‡§Æ‡§æ‡§£‡§ø‡§ï ‡§Æ‡§π‡§≤" }
                                ]
                            },
                            {
                                name: "‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§ß‡§æ‡§Æ",
                                children: [
                                    { name: "‡§ï‡•Å‡§Ç‡§ú ‡§®‡§ø‡§ï‡•Å‡§Ç‡§ú" },
                                    { name: "‡§¨‡§ü ‡§µ‡§®" },
                                    { name: "‡§®‡§æ‡§∞‡§Ç‡§ó‡•Ä ‡§µ‡§®" },
                                    { name: "‡§ú‡§Æ‡•ç‡§¨‡•Å ‡§µ‡§®" },
                                    { name: "‡§Ö‡§®‡§æ‡§∞ ‡§µ‡§®" },
                                    { name: "‡§≤‡§ø‡§¨‡•ã‡§à ‡§µ‡§®" },
                                    { name: "‡§ï‡•á‡§≤ ‡§µ‡§®" },
                                    { name: "‡§Ö‡§Æ‡•É‡§§" }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                name: "‡§Ö‡§ï‡•ç‡§∑‡§∞‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ (‡§∏‡§§‡•ç‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™)",
                children: [
                    {
                        name: "‡§Æ‡§π‡§æ‡§ï‡§æ‡§∞‡§£",
                        children: [
                            {
                                name: "‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ ‡§®‡§ó‡•ç‡§® ‡§∏‡§§‡•ç‡§Ø (‡§Ö‡§µ‡•ç‡§Ø‡§æ‡§ï‡•É‡§§)",
                                children: [
                                    { name: "‡§ú‡•ã‡§∂ ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™" },
                                    { name: "‡§¨‡•Å‡§¶‡•ç‡§ß ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™" }
                                ]
                            }
                        ]
                    },
                    { name: "‡§∏‡§§‡•ç‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™" },
                    { name: "‡§∏‡•ç‡§µ‡§æ‡§Æ‡§ø‡§®‡•Ä" }
                ]
            },
            {
                name: "‡§Ö‡§ï‡•ç‡§∑‡§∞‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ (‡§™‡•ç‡§∞‡§ï‡•É‡§§‡§ø‚Äì‡§™‡•Å‡§∞‡•Å‡§∑)",
                children: [
                    { name: "‡§ó‡•ã‡§≤‡•ã‡§ï ‡§ß‡§æ‡§Æ" },
                    {
                        name: "‡§®‡§ø‡§§‡•ç‡§Ø ‡§¨‡•à‡§ï‡•Å‡§Ç‡§†",
                        children: [
                            { name: "‡§∏‡§§‡•ç‡§Ø ‡§≤‡•ã‡§ï" },
                            { name: "‡§µ‡§ø‡§∑‡•ç‡§£‡•Å ‡§≤‡•ã‡§ï" },
                            { name: "‡§™‡•Å‡§∑‡•ç‡§ï‡§∞ ‡§¶‡•ç‡§µ‡•Ä‡§™" },
                            { name: "‡§∂‡•ç‡§µ‡•á‡§§ ‡§¶‡•ç‡§µ‡•Ä‡§™" }
                        ]
                    },
                    { name: "‡§Ü‡§µ‡§∞‡§£ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                    { name: "‡§µ‡§ø‡§ï‡•ç‡§∑‡•á‡§™ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                    {
                        name: "‡§∏‡•Å‡§Æ‡§Ç‡§ó‡§≤‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø (‡§ö‡§ø‡§¶‡§æ‡§®‡§Ç‡§¶ ‡§≤‡§π‡§∞‡•Ä)",
                        children: [
                            { name: "‡§Æ‡§π‡§æ‡§µ‡§ø‡§∑‡•ç‡§£‡•Å" },
                            { name: "‡§∂‡§ø‡§µ" },
                            { name: "‡§∏‡§®‡§ï‡§æ‡§¶‡§ø‡§ï" },
                            { name: "‡§∏‡•Å‡§ï‡§¶‡•á‡§µ" },
                            { name: "‡§ï‡§¨‡•Ä‡§∞" }
                        ]
                    }
                ]
            },
            {
                name: "‡§Ö‡§µ‡•ç‡§Ø‡§æ‡§ï‡•É‡§§ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ",
                children: [
                    {
                        name: "‡§ï‡§æ‡§∞‡§£",
                        children: [
                            { name: "‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§Ö‡§®‡§ø‡§∞‡•ç‡§µ‡§ö‡§®‡•Ä‡§Ø ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§â‡§®‡§Æ‡•Å‡§®‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§á‡§ö‡•ç‡§õ‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§§‡•É‡§ö‡•ç‡§õ‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§∂‡§ø‡§µ ‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø" },
                            { name: "‡§∏‡§æ‡§§ ‡§∂‡•Ç‡§®‡•ç‡§Ø" },
                            { name: "‡§∏‡§æ‡§§ ‡§∞‡§Ç‡§ó" }
                        ]
                    },
                    {
                        name: "‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ",
                        children: [
                            { name: "‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ" },
                            { name: "‡§Ö‡§ß‡§ø‡§¶‡•à‡§µ" },
                            { name: "‡§Ö‡§ß‡§ø‡§≠‡•Ç‡§§" }
                        ]
                    },
                    {
                        name: "‡§∏‡•ç‡§•‡•Ç‡§≤",
                        children: [
                            {
                                name: "‡§™‡§∞‡§™‡•ç‡§∞‡§£‡§µ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ",
                                children: [
                                    { name: "‡§ú‡•ç‡§û‡§æ‡§® ‡§∂‡§ï‡•ç‡§§‡§ø ‡§ó‡§æ‡§Ø‡§§‡•ç‡§∞‡•Ä" },
                                    { name: "‡§™‡§æ‡§Å‡§ö ‡§µ‡•á‡§¶" }
                                ]
                            },
                            {
                                name: "‡§Ö‡§™‡§∞ ‡§™‡§∞‡§™‡•ç‡§∞‡§£‡§µ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ",
                                children: [
                                    { name: "‡•ê" }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                name: "‡§ï‡•á‡§µ‡§≤ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ",
                children: [
                    { name: "‡§ï‡•á‡§µ‡§≤ ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ" },
                    { name: "‡§Ü‡§®‡§Ç‡§¶ ‡§Ø‡•ã‡§ó‡§Æ‡§æ‡§Ø‡§æ" },
                    { name: "‡§π‡§ø‡§Ç‡§°‡•ã‡§≤‡§æ ‡§Ø‡•ã‡§ó‡§Æ‡§æ‡§Ø‡§æ ‡§Æ‡§Ç‡§°‡§≤" }
                ]
            },
            {
                name: "‡§∏‡§¨‡§≤‡•Ä‡§ï ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ",
                children: [
                    { name: "‡§∏‡§¨‡§≤‡•Ä‡§ï ‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ ‡§ï‡§æ ‡§Æ‡§π‡§æ‡§ï‡§æ‡§∞‡§£" },
                    { name: "‡§Ö‡§ñ‡§Ç‡§° ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∏" },
                    { name: "‡§®‡§ø‡§§‡•ç‡§Ø ‡§ó‡•ã‡§≤‡•ã‡§ï" }
                ]
            },
            {
                name: "‡§ï‡•ç‡§∑‡§∞ ‡§™‡•Å‡§∞‡•Å‡§∑",
                children: [
                    {
                        name: "‡§Æ‡•ã‡§π ‡§ú‡§≤",
                        children: [
                            {
                                name: "‡§Ü‡§¶‡§ø ‡§®‡§æ‡§∞‡§æ‡§Ø‡§£ (‡§ö‡§æ‡§∞ ‡§µ‡•ç‡§Ø‡•Ç‡§π)",
                                children: [
                                    { name: "‡§µ‡§æ‡§∏‡•Å‡§¶‡•á‡§µ" },
                                    { name: "‡§∏‡§Ç‡§ï‡§∞‡•ç‡§∑‡§£" },
                                    { name: "‡§™‡•ç‡§∞‡§¶‡•ç‡§Ø‡•Å‡§Æ‡•ç‡§®" },
                                    { name: "‡§Ö‡§®‡§ø‡§∞‡•Å‡§¶‡•ç‡§ß" }
                                ]
                            },
                            {
                                name: "‡§Æ‡§π‡§æ‡§µ‡§ø‡§∑‡•ç‡§£‡•Å",
                                children: [
                                    {
                                        name: "‡§ï‡§æ‡§∞‡§£ ‡§∂‡§∞‡•Ä‡§∞",
                                        children: [
                                            { name: "‡§â‡§®‡§Æ‡•Å‡§®‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§Ö‡§®‡§ø‡§∞‡•ç‡§µ‡§ö‡§®‡•Ä‡§Ø ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§§‡•É‡§ö‡•ç‡§õ‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§∂‡§ø‡§µ ‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§∏‡§æ‡§§ ‡§∂‡•Ç‡§®‡•ç‡§Ø" }
                                        ]
                                    },
                                    {
                                        name: "‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ ‡§∂‡§∞‡•Ä‡§∞",
                                        children: [
                                            { name: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§Æ‡§π‡§æ ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                            { name: "‡§∏‡•Å‡§Æ‡§®‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" }
                                        ]
                                    },
                                    {
                                        name: "‡§∏‡•ç‡§•‡•Ç‡§≤ ‡§∂‡§∞‡•Ä‡§∞",
                                        children: [
                                            { name: "‡§ú‡•ç‡§û‡§æ‡§® ‡§∂‡§ï‡•ç‡§§‡§ø ‡§ó‡§æ‡§Ø‡§§‡•ç‡§∞‡•Ä" },
                                            { name: "‡§ö‡§æ‡§∞ ‡§µ‡•á‡§¶" }
                                        ]
                                    }
                                ]
                            },
                            {
                                name: "‡§ú‡•ç‡§Ø‡•ã‡§§‡§ø ‡§∏‡•ç‡§µ‡§∞‡•Ç‡§™ (‡§ó‡§æ‡§Ø‡§§‡•ç‡§∞‡•Ä)",
                                children: [
                                    { name: "‡§ö‡§Æ‡•ã‡§ö‡§ï ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                    { name: "‡§á‡§ß‡•Ä‡§¶‡•ç‡§µ‡•Ä‡§™‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                    { name: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                    { name: "‡§™‡§∞‡§Æ‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" },
                                    { name: "‡§â‡§ß‡•ç‡§¶‡•ç‡§∞‡§ó‡§æ ‡§∂‡§ï‡•ç‡§§‡§ø" }
                                ]
                            },
                            {
                                name: "‡§Ö‡§∑‡•ç‡§ü ‡§Ü‡§µ‡§∞‡§£ (‡§®‡§ø‡§§‡•ç‡§Ø ‡§™‡•ç‡§∞‡§≤‡§Ø)",
                                children: [
                                    {
                                        name: "‡§™‡§Ç‡§ö‡§Æ‡§π‡§æ‡§≠‡•Ç‡§§",
                                        children: [
                                            { name: "‡§™‡•É‡§•‡•ç‡§µ‡•Ä" },
                                            { name: "‡§ú‡§≤" },
                                            { name: "‡§Ö‡§ó‡•ç‡§®‡§ø" },
                                            { name: "‡§µ‡§æ‡§Ø‡•Å" },
                                            { name: "‡§Ü‡§ï‡§æ‡§∂" }
                                        ]
                                    },
                                    {
                                        name: "‡§Ö‡§Ç‡§§‡§É‡§ï‡§∞‡§£",
                                        children: [
                                            { name: "‡§Æ‡§®" },
                                            { name: "‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø" },
                                            { name: "‡§Ö‡§π‡§Ç‡§ï‡§æ‡§∞" }
                                        ]
                                    }
                                ]
                            },
                            {
                                name: "‡§≤‡•ã‡§ï (‡§¨‡•ç‡§∞‡§π‡•ç‡§Æ‡§æ‡§Ç‡§°)",
                                children: [
                                    { name: "‡§∏‡§§‡•ç‡§Ø‡§≤‡•ã‡§ï" },
                                    { name: "‡§§‡§™‡§≤‡•ã‡§ï" },
                                    { name: "‡§ú‡§®‡§≤‡•ã‡§ï" },
                                    { name: "‡§Æ‡§π‡§∞‡§≤‡•ã‡§ï" },
                                    { name: "‡§∏‡•ç‡§µ‡§∞‡•ç‡§ó‡§≤‡•ã‡§ï" },
                                    { name: "‡§≠‡•Å‡§µ‡§∞‡•ç‡§≤‡•ã‡§ï" },
                                    { name: "‡§≠‡•Ç‡§≤‡•ã‡§ï (‡§™‡•É‡§•‡•ç‡§µ‡•Ä)" },
                                    { name: "‡§Ö‡§§‡§≤" },
                                    { name: "‡§µ‡§ø‡§§‡§≤" },
                                    { name: "‡§∏‡•Å‡§§‡§≤" },
                                    { name: "‡§§‡§≤‡§æ‡§§‡§≤" },
                                    { name: "‡§Æ‡§π‡§æ‡§§‡§≤" },
                                    { name: "‡§∞‡§∏‡§æ‡§§‡§≤" },
                                    { name: "‡§™‡§æ‡§§‡§æ‡§≤" },
                                    { name: "‡§∂‡•á‡§∑‡§∂‡§æ‡§Ø‡•Ä ‡§®‡§æ‡§∞‡§æ‡§Ø‡§£" }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    };

    // --- 2. NAVIGATION LOGIC ---

    function toggleMenu() {
        const overlay = document.getElementById('navOverlay');
        overlay.classList.toggle('active');
    }

    function showHome() {
        // 1. Close Menu
        document.getElementById('navOverlay').classList.remove('active');
        
        // 2. Hide all page containers
        const pages = document.querySelectorAll('.page-container');
        pages.forEach(p => p.style.display = 'none');

        // 3. Show D3 Chart
        const chart = document.getElementById('chart-container');
        chart.style.opacity = '1';

        // 4. Reset Zoom (Center the map again)
        resetZoom();
    }

    function showPage(pageId) {
        // 1. Close Menu
        document.getElementById('navOverlay').classList.remove('active');

        // 2. Hide all other pages
        document.querySelectorAll('.page-container').forEach(el => {
            el.style.display = 'none';
        });

        // 3. Show Target Page
        const target = document.getElementById(pageId);
        if (target) {
            target.style.display = 'block';
            target.scrollTop = 0; // Scroll to top
        }
    }

    function shareSite() {
        if (navigator.share) {
            navigator.share({
                title: 'Krishna Pranami',
                text: 'Discover the Cosmology of Nijanand Sampraday',
                url: window.location.href
            }).catch(console.error);
        } else {
            alert("Link copied to clipboard!");
        }
        toggleMenu();
    }

    // --- 3. D3 VIZ SETUP ---

    const width = window.innerWidth;
    const height = window.innerHeight;

    const svg = d3.select("#chart-container").append("svg")
        .attr("width", "100%")
        .attr("height", "100vh");

    const g = svg.append("g");

    // Zoom setup
    const zoom = d3.zoom()
        .scaleExtent([0.1, 4]) // Zoom limits
        .on("zoom", (event) => {
            g.attr("transform", event.transform);
        });

    svg.call(zoom);
    svg.on("dblclick.zoom", null); // Disable double click zoom

    // Tree Layout
    // Increased vertical spacing (first param) for clearer text
    const tree = d3.tree().nodeSize([35, 260]); 

    const root = d3.hierarchy(treeData, d => d.children);
    root.x0 = height / 2;
    root.y0 = 0;

    update(root);

    // --- ZOOM & CENTER LOGIC (Responsive) ---
    function resetZoom() {
        const isMobile = window.innerWidth < 768;
        // Adjust scale and position based on device width
        const scale = isMobile ? 0.45 : 0.75; 
        const xOffset = isMobile ? 40 : 150;

        const t = d3.zoomIdentity.translate(xOffset, height / 2).scale(scale);
        
        svg.transition().duration(1000).call(zoom.transform, t);
    }

    // Call resetZoom initially
    resetZoom();

    function update(source) {
        const treeData = tree(root);
        const nodes = treeData.descendants(),
              links = treeData.links();

        nodes.forEach(d => { d.y = d.depth * 280; });

        // --- Nodes ---
        const node = g.selectAll('g.node')
            .data(nodes, d => d.id || (d.id = Math.random()));

        const nodeEnter = node.enter().append('g')
            .attr('class', 'node')
            .attr("transform", d => "translate(" + source.y0 + "," + source.x0 + ")")
            .on('click', click);

        nodeEnter.append('circle')
            .attr('class', 'node')
            .attr('r', 1e-6)
            .style("fill", d => d._children ? "#38bdf8" : "#050a14");

        nodeEnter.append('text')
            .attr("dy", ".35em")
            .attr("x", d => d.children || d._children ? -15 : 15)
            .attr("text-anchor", d => d.children || d._children ? "end" : "start")
            .text(d => d.data.name)
            .style("fill-opacity", 1e-6);

        const nodeUpdate = nodeEnter.merge(node);

        nodeUpdate.transition()
            .duration(500)
            .attr("transform", d => "translate(" + d.y + "," + d.x + ")");

        nodeUpdate.select('circle.node')
            .attr('r', 6)
            .style("fill", d => d._children ? "#38bdf8" : "#050a14");

        nodeUpdate.select('text')
            .style("fill-opacity", 1);

        // --- Links ---
        const link = g.selectAll('path.link')
            .data(links, d => d.target.id);

        const linkEnter = link.enter().insert('path', "g")
            .attr("class", "link")
            .attr('d', d => {
                const o = {x: source.x0, y: source.y0};
                return diagonal(o, o);
            });

        const linkUpdate = linkEnter.merge(link);
        linkUpdate.transition().duration(500).attr('d', d => diagonal(d.source, d.target));

        const nodeExit = node.exit().transition().duration(500)
            .attr("transform", d => "translate(" + source.y + "," + source.x + ")")
            .remove();

        nodeExit.select('circle').attr('r', 1e-6);
        nodeExit.select('text').style('fill-opacity', 1e-6);
        
        link.exit().transition().duration(500).attr('d', d => {
            const o = {x: source.x, y: source.y};
            return diagonal(o, o);
        }).remove();

        nodes.forEach(d => {
            d.x0 = d.x;
            d.y0 = d.y;
        });

        function diagonal(s, d) {
            return `M ${s.y} ${s.x}
                    C ${(s.y + d.y) / 2} ${s.x},
                      ${(s.y + d.y) / 2} ${d.x},
                      ${d.y} ${d.x}`;
        }

        function click(event, d) {
            if (d.children) {
                d._children = d.children;
                d.children = null;
            } else {
                d.children = d._children;
                d._children = null;
            }
            update(d);
        }
    }

    // Responsive resize listener
    window.addEventListener('resize', () => {
        svg.attr("width", window.innerWidth).attr("height", window.innerHeight);
        // Optional: Re-center on resize
        // resetZoom(); 
    });

</script>
</body>
</html>
